# 更新記錄

## [0.8.0] - 2025-09-13

### 新增
- **🛡️ 智慧速率限制系統**: 導入基於 Redis 的分散式速率限制機制，有效防止系統濫用和惡意攻擊，確保服務穩定性
- **🔒 PostBack 事件處理鎖**: 實作專門的處理鎖機制，防止重複點擊造成的系統異常，提升用戶操作體驗
- **⚡ Redis 分散式鎖**: 建置高效能的分散式鎖定系統，確保多用戶同時操作時的資料一致性

### 改進
- **🔧 系統架構強化**: 新增 Redis 服務支援，為後續功能擴展奠定穩固基礎
- **📚 處理機制文件**: 完善 Webhook 處理鎖的技術文件，提升系統維護效率

## [0.7.0] - 2025-09-12

### 新增
- **🔐 強化身份驗證機制**: 導入 LINE ID Token 驗證功能，大幅提升用戶身份安全性和系統防護等級
- **🛡️ 智慧安全防護**: 新增 JWT 簽章驗證和觀眾驗證機制，有效防止身份偽造和未授權存取
- **🧵 高效能快取系統**: 實作執行緒安全的 JWKS 快取機制，提升驗證速度同時確保系統穩定性

### 改進
- **📍 地點訊息處理優化**: 改善地址資訊的處理邏輯，讓地點查詢結果更加準確完整
- **📢 公告展示體驗**: 優化公告內容的日期格式化和文字截斷功能，確保重要資訊清晰呈現
- **💬 查詢記錄回應**: 更新近期查詢的回應訊息格式，提供更直觀的歷史記錄瀏覽體驗

## [0.6.2] - 2025-09-11

### 改進
- **🎯 介面文字優化**: 改善快速回覆訊息和成功提示的清晰度，讓使用者獲得更直觀的操作回饋
- **🔄 按鈕標籤改進**: 將設定頁面的「重置」按鈕改為「清除」，功能說明更加明確

### 修正
- **🛡️ LIFF 穩定性提升**: 強化錯誤處理機制和登入邏輯，解決設定頁面偶爾出現的載入問題

## [0.6.1] - 2025-09-11

### 改進
- **🗺️ 地圖查詢體驗優化**: 全面改善地點查詢介面文字，讓「地圖查詢」功能說明更加清晰直觀

## [0.6.0] - 2025-09-10

### 新增
- **🛡️ LIFF 健康監控機制**: 新增自動化健康檢查工具，主動監控 LIFF 應用狀態，確保設定頁面隨時可用
- **📱 設定頁面穩定性大幅提升**: 完整重構 LIFF 錯誤處理機制，解決頁面載入失敗和操作異常問題

### 改進
- **🎨 閱讀體驗優化**: 調整設定頁面字體大小，在各種裝置上都有更佳的可讀性
- **🔄 表單操作體驗**: 將「取消」按鈕改為「重置」，功能更直觀明確
- **🎯 載入回饋優化**: 改善頁面載入狀態顯示，讓用戶清楚掌握操作進度

### 修正
- 修復 LIFF 頁面偶爾無法正常載入的問題，確保設定功能穩定可用
- 改善事件處理邏輯，解決表單操作時可能出現的異常狀況
- 優化訊息顯示時機，避免重複或不必要的確認訊息

## [0.5.3] - 2025-09-07

### 改進
- **📝 回應訊息優化**: 簡化地點查詢和錯誤提示訊息，讓系統回應更加清晰易懂

## [0.5.2] - 2025-09-03

### 新增
- **🔒 資安防護機制**: 新增 detect-secrets 工具，自動檢測並防止敏感資訊洩露，提升系統安全性

## [0.5.1] - 2025-08-28

### 改進
- **🎯 Rich Menu 操作體驗**: 優化選單按鈕標籤文字，讓功能說明更加清楚易懂

## [0.5.0] - 2025-08-28

### 新增
- **🔧 Rich Menu「其它」功能**: 完整實作 Rich Menu 第四個按鈕，提供公告、更新、說明、專案介紹四大功能
- **📢 智慧公告系統**: 最新訊息透過 Flex Message 輪播呈現，支援完整內容頁面查看
- **📖 完整使用說明**: 新增詳細功能說明頁面，協助用戶快速掌握所有天氣查詢功能
- **📋 專案介紹頁面**: 提供 WeaMind 完整介紹，讓用戶深入了解服務特色

### 改進
- **🎨 頁面閱讀體驗**: 優化靜態頁面字體大小，確保在各種裝置上都有最佳可讀性
- **🔄 快速回覆選單**: 透過智慧快速回覆按鈕，讓功能探索更加便利直觀
- **📱 介面視覺統一**: 調整各頁面字體配置，提升整體使用體驗的一致性

### 修正
- 修復靜態頁面快取版本控制，確保用戶總能瀏覽到最新內容
- 改善頁面版本註解格式，提升系統穩定性 - 2025-08-28

## [0.4.1] - 2025-08-26

### 新增
- **📱 Rich Menu 介面優化**: 調整 LINE Bot 選單佈局，圖示配置更直觀易用

### 改進
- **🎨 圖示對稱性優化**: 調整辦公室天氣和設定圖示位置，讓介面佈局更加平衡美觀
- **📝 查詢訊息優化**: 改善天氣查詢時的提示訊息，讓使用說明更清楚明瞭
- **💾 位置輸入驗證**: 優化地點名稱字元數限制檢查，提升輸入體驗
- **🚀 部署穩定性**: 強化資料庫連線檢查機制，確保服務部署更加穩定可靠

## [0.4.0] - 2025-08-26

### 新增
- **🌍 當前位置天氣查詢**: 全新的地理位置功能，讓您分享位置就能快速查詢當地天氣
- **🎯 智慧地點識別**: 支援台灣所有縣市、鄉鎮市區的精確識別，包含澎湖、金門等離島地區
- **📍 位置驗證機制**: 自動驗證輸入的地點是否為台灣有效行政區域，避免查詢錯誤

### 改進
- **📚 查詢記錄擴充**: 最近查詢記錄從 3 筆增加到 5 筆，記住更多常用地點
- **🔍 地址解析優化**: 改善地點名稱解析準確度，更聰明地理解您的查詢意圖
- **⚡ 位置計算效能**: 優化地理距離計算，提供更快速的位置驗證回應

### 修正
- 修復位置驗證距離閾值設定，提升地點識別的精確度
- 改善日誌訊息格式，讓系統運作狀態更清晰可追蹤

## [0.3.1] - 2025-08-25

### 改進
- **🔧 依賴套件更新**: 升級 CodeCov 和 Docker 建置工具至最新版本，提升安全性和穩定性
- **📋 配置文件優化**: 簡化 Dependabot 配置，提升自動化維護效率
- **📝 文件格式改善**: 修正 CHANGELOG 格式問題，確保版本記錄更清晰易讀

## [0.3.0] - 2025-08-25

### 新增
- **📊 用戶查詢記錄系統**: 自動記錄成功的天氣查詢歷史，建立個人化查詢資料庫
- **🔄 最近查詢快捷功能**: 透過 Rich Menu 提供「最近查過」選項，一鍵重複查詢常用地點
- **🧠 智慧排除機制**: 自動排除已設定的住家/公司地點，避免重複顯示提升使用體驗

### 改進
- **🧪 測試架構優化**: 重構 LINE 服務測試模組，提升測試覆蓋率和程式碼可維護性
- **🚀 部署流程改善**: 優化資料庫遷移回饋機制，確保部署過程更穩定可靠
- **📝 專案描述更新**: 完善專案說明文件，讓新用戶更容易理解 WeaMind 的價值

## [0.2.1] - 2025-08-24

### 改進
- **🔧 版本發布流程優化**: 改進 CHANGELOG 更新機制，提供更清晰的版本記錄管理

## [0.2.0] - 2025-08-23

### 新增
- **🎯 Rich Menu 互動功能**: 全新的圖形化選單介面，讓天氣查詢更直觀便利
- **📱 智慧按鈕回應**: 支援 PostBack 事件處理，提供更流暢的操作體驗
- **🎨 視覺化選單設計**: 精心設計的 Rich Menu 模板，提升使用者介面美感

### 改進
- **🔧 版本發布流程**: 優化 CHANGELOG 管理和版本控制流程，確保更穩定的更新
- **💬 訊息回應優化**: 改善 Bot 回應訊息的清晰度和一致性
- **🧪 測試覆蓋率提升**: 強化 PostBack 事件和核心功能的測試完整性

### 修正
- 移除過時的地點設定指令處理邏輯，簡化操作流程
- 優化開發工具配置，提升程式碼品質檢查效率

## [0.1.3] - 2025-08-22

### 改進
- **版本發布體驗優化**: 完善 GitHub Actions 自動發布系統，提供更完整的版本歷史記錄
- 強化版本管理配置，確保發布內容的完整性和專業性

## [0.1.2] - 2025-08-22

### 新增
- **自動化發布系統**: 整合 GitHub Actions，版本發布完全自動化，無需手動操作 Release 頁面
- **AI 助理整合優化**: 完善版本管理指令，讓 AI 助理能更準確執行發布流程

### 改進
- 簡化版本發布流程，從手動五步驟縮減為一鍵自動化
- 提升開發效率，減少重複性操作

## [0.1.1] - 2025-08-22

### 新增
- **自動化版本管理**: 新增完整的 CHANGELOG 維護系統，簡化版本發布流程
- **GitHub Releases 整合**: 支援自動產生 GitHub Release，方便追蹤版本歷史
- **開發者工具**: 新增 Makefile 指令，提升開發效率和版本管理便利性

### 改進
- **文件品質提升**: 優化 CHANGELOG 撰寫指南，確保版本記錄清晰易懂
- **測試規範完善**: 更新測試指導文件，標準化開發流程
- **程式碼品質**: 加強拼字檢查和程式碼規範

## [0.1.0] - 2025-08-22

### 新增
- **LINE Bot 核心功能**: 完整的 LINE webhook 整合，支援 follow/unfollow 事件處理
- **智慧地點解析**: 支援中文地名模糊查詢，涵蓋全台鄉鎮區資料
- **Quick Reply 互動**: 當查詢結果為 2-3 個地點時，自動提供快速回覆選項
- **LIFF 地點設定**: 透過 LINE 前端框架實現便民的地點偏好設定
- **自動用戶管理**: LINE Bot follow 時自動建立用戶記錄
- **DDD 架構設計**: 採用領域驅動設計，模組化程式碼結構
- **PostgreSQL 整合**: 完整的資料庫設計，包含用戶、天氣、行政區資料表
- **完整測試覆蓋**: pytest 測試框架，涵蓋核心業務邏輯
- **Docker 容器化**: 支援開發與生產環境的 docker-compose 配置

### 修正
- 移除無認證的危險 API 端點，提升系統安全性
- 優化用戶管理 API，移除冗餘程式碼
- 增強 LINE webhook 接收的日誌記錄，便於除錯

### 改進
- 重構 JWT token 創建邏輯，提升測試可靠性
- 新增詳細的測試規範文件，標準化開發流程
- 使用 Ruff 進行格式化和 lint 檢查

---

格式基於 [Keep a Changelog](https://keepachangelog.com/zh-TW/1.0.0/)，並且本專案遵循[語意化版本](https://semver.org/lang/zh-TW/)。

需要詳細的技術變更記錄，請參考 [GitHub Releases](https://github.com/kyomind/WeaMind/releases)。

> WeaMind - 讓天氣查詢變得更簡單、直觀 🌤️
